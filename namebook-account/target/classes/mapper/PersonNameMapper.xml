<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="li.jesse.namebookaccount.dao.PersonNameDao">

    <resultMap id="BaseResultMap"       type="li.jesse.namebookaccount.pojo.PersonName">
        <id column="person_name_id"     jdbcType="CHAR" />
        <result column="person_id"      jdbcType="CHAR" />
        <result column="languageCode"   jdbcType="CHAR" />
        <result column="given_name"     jdbcType="VARCHAR" />
        <result column="middle_name"    jdbcType="VARCHAR" />
        <result column="surname"        jdbcType="VARCHAR" />
        <result column="primary_email"  jdbcType="VARCHAR" />
        <result column="create_time"    jdbcType="TIMESTAMP" />
        <result column="update_time"    jdbcType="TIMESTAMP" />
    </resultMap>

    <sql id="Base_Column_List">
        person_name_id, person_id, language_code, given_name, middle_name, surname, create_time, update_time
    </sql>

    <!-- CRUD -->
    <!-- select -->
    <select id="selectByPersonId" resultMap="BaseResultMap" parameterType="java.lang.String">
        select
            <include refid="Base_Column_List" />
        from
            person_name
        where
            person_name_id = #{personNameId, jdbcType=CHAR}
    </select>

    <!-- insert -->
    <insert id="insertAccount" parameterType="li.jesse.namebookaccount.pojo.Person">
        insert into
            account (account_id, password, given_name, middle_name, surname, gender, date_of_birth, intl_tel_code, primary_mobile, primary_email, description, create_time, update_time)
        values (
            #{account_id, jdbcType=CHAR}, #{password, jdbcType=VARCHAR}, #{given_name, jdbcType=VARCHAR}, #{middle_name,jdbcType=VARCHAR}, #{surname, jdbcType=VARCHAR},
            #{gender, jdbcType=CHAR}, #{date_of_birth, jdbcType=TIMESTAMP},
            #{intl_tel_code, jdbcType=CHAR}, #{primary_mobile, jdbcType=CHAR}, #{primary_email, jdbcType=VARCHAR}, #{description, jdbcType=VARCHAR},
            now(), now())
    </insert>



</mapper>
